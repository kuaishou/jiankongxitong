<!DOCTYPE html>
<html>
<head lang="zh-CN">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <title></title>
    <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/zhihui.css">
    <!--[if lt IE 9]>
    <script src="../lib/html5shiv/html5shiv.min.js"></script>
    <script src="../lib/respond/respond.min.js"></script>
    <![endif]-->

</head>
<body class="zhihui">

<header id="header">
    <span id="time" class="time"></span>
    <div class="title">
        <img src="../img/logo.jpg" alt="logo"/>
        <h2>吉首智慧旅游综合监控平台</h2>
    </div>

</header>

<section>
    <div class="left">
        <div class="left-header">
            <div class="people-nubtitle">
                <div class="color-box"></div>
                <P class="title-words">吉首概况</P>
            </div>
            <div class="people-nub">
                <h4>吉首实时客流</h4>
                <ul>
                    <li class="red-nub">0</li>
                    <li class="red-nub">0</li>
                    <li class="red-nub">0</li>
                    <li class="blue-nub">2</li>
                    <li class="blue-nub">2</li>
                    <li class="blue-nub">2</li>
                    <li class="green-nub">8</li>
                    <li class="green-nub">8</li>
                    <li class="green-nub">8</li>
                </ul>
            </div>
        </div>
        <div class="left-mid">
            <div class="mid-title">
                <div class="color-box"></div>
                <P class="title-words">主要景区实时游客数</P>
            </div>
            <div class="mid-cont">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th>景区</th>
                        <th>门票销量</th>
                        <th>入园人数</th>
                        <th>饱和度（%）</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>德夯景区</td>
                        <td>1564123</td>
                        <td>156413</td>
                        <td class="item" id="item"></td>
                    </tr>
                    <tr>
                        <td>德夯景区</td>
                        <td>1564123</td>
                        <td>156413</td>
                        <td class="item" id="itemy"></td>
                    </tr>
                    <tr>
                        <td>德夯景区</td>
                        <td>1564123</td>
                        <td>156413</td>
                        <td class="item" id="itemx"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="left-footer">
            <div class="footer-title">
                <div class="color-box"></div>
                <P class="title-words">停车场实时近况</P>
            </div>
            <div class="footer-cont" id="main">

            </div>
        </div>




    </div>
    <div class="right">

        <div class="right-top">
            <div class="right-topl">
              <div class="righttl-title">
                  <div class="color-box"></div>
                  <P class="title-words">天气</P>
              </div>
                <div class="righttl-cont">
                    <div class="righttl-cont1">
                        <h4>吉首市</h4>
                        <div class="cont1mid">
                            <img src="../img/sun.jpg" alt="天气"/>
                            <span class="temperature">32º</span>
                            <span class="day">今日</span>
                        </div>
                        <div class="cont1footer">
                            <div class="wind col-md-4">
                                <p>东风</p>
                                <p>1级</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>PM2.5</p>
                                <p>250</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>湿度</p>
                                <p>75%</p>
                            </div>
                        </div>
                    </div>
                    <div class="righttl-cont1">
                        <h4>德夯景区</h4>
                        <div class="cont1mid">
                            <img src="../img/sun.jpg" alt="天气"/>
                            <span class="temperature">32º</span>
                            <span class="day">今日</span>
                        </div>
                        <div class="cont1footer">
                            <div class="wind col-md-4">
                                <p>东风</p>
                                <p>1级</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>PM2.5</p>
                                <p>250</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>湿度</p>
                                <p>75%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right-topl right-topr">
                <div class="righttl-title">
                    <div class="color-box"></div>
                    <P class="title-words">天气</P>
                </div>
                <div class="righttl-cont">
                    <div class="righttl-cont1">
                        <h4>矮寨大桥</h4>
                        <div class="cont1mid">
                            <img src="../img/sun.jpg" alt="天气"/>
                            <span class="temperature">32º</span>
                            <span class="day">今日</span>
                        </div>
                        <div class="cont1footer">
                            <div class="wind col-md-4">
                                <p>东风</p>
                                <p>1级</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>PM2.5</p>
                                <p>250</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>湿度</p>
                                <p>75%</p>
                            </div>
                        </div>
                    </div>
                    <div class="righttl-cont1">
                        <h4>吉首市</h4>
                        <div class="cont1mid">
                            <img src="../img/sun.jpg" alt="天气"/>
                            <span class="temperature">32º</span>
                            <span class="day">今日</span>
                        </div>
                        <div class="cont1footer">
                            <div class="wind col-md-4">
                                <p>东风</p>
                                <p>1级</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>PM2.5</p>
                                <p>250</p>
                            </div>
                            <div class="wind col-md-4">
                                <p>湿度</p>
                                <p>75%</p>
                            </div>




                        </div>
                    </div>
                </div>
            </div>







        </div>
        <div class="right-footer">
            <img src="../img/monitor01.jpg" alt="监控录像"/>
            <img src="../img/monitor02.jpg" alt="监控录像"/>
            <img src="../img/monitor03.jpg" alt="监控录像"/>
            <img src="../img/monitor04.jpg" alt="监控录像"/>
        </div>

    </div>

</section>





<!--头部区域-->
<script src="../lib/jquery/jquery.js"></script>
<script src="../lib/bootstrap/js/bootstrap.js"></script>
<!--<script src="js/echarts.js"></script>-->
<!--<script src="js/main.js"></script>-->
<script src="../lib/build/dist/echarts.js"></script>
<script>
    $('#time').innerHTML=new Date().toLocaleString();
    setInterval("document.getElementById('time').innerHTML=new Date().toLocaleString();",1000);


    /*圆环图封装*/
    function pie(item,ins,out) {

        require.config({
            paths: {
                echarts: '../lib/build/dist'
            }
        });
        // 使用
        require(
                [
                    'echarts',
                    'echarts/chart/pie'// 使用柱状图就加载bar模块，按需加载
                ],
                function (ec) {
                    // 基于准备好的dom，初始化echarts图表
                    var myChart = ec.init(document.getElementById(item));

                    var labelTop = {
                        normal : {
                            label : {
                                show : true,
                                position : 'center',
                                formatter : '{b}',
                                textStyle: {
                                    baseline : 'bottom'
                                }
                            },
                            labelLine : {
                                show : false
                            }
                        }
                    };
                    var labelFromatter = {
                        normal : {
                            label : {
                                formatter : function (params){
                                    return 100 - params.value + '%'
                                },
                                textStyle: {
                                    baseline : 'top'
                                }
                            }
                        },
                    }
                    var labelBottom = {
                        normal : {
                            color: '#ccc',
                            label : {
                                show : true,
                                position : 'center'
                            },
                            labelLine : {
                                show : false
                            }
                        },
                        emphasis: {
                            color: 'rgba(0,0,0,0)'
                        }
                    };
                    var radius = [25, 30];
                    var itemoption = {
                        calculableColor: 'rgba(255,165,0,0.6)',
                        legend: {
                            x : '-100',
                            y : '-100',
                            data:[
                                'Skype'
                            ]
                        },

                        series : [
                            {
                                type : 'pie',
                                center : ['25%', '50%'],
                                radius : radius,
                                x: '0%', // for funnel
                                itemStyle : labelFromatter,
                                data : [
                                    {name:'other', value:ins, itemStyle : labelBottom},
                                    {name:'入园', value:out,itemStyle : labelTop}
                                ]
                            },
                        ]
                    };
                    myChart.setOption(itemoption);
                }
        );
    }
    pie('item', 30,70);
    pie('itemy',80,20);
    pie('itemx',50,50);

    /*柱状图封装*/
       function bar(main) {

        require.config({
            paths: {
                echarts: '../lib/build/dist'
            }
        });
        // 使用
        require(
                [
                    'echarts',
                    'echarts/chart/bar',
                    /*'echarts/chart/pie'*/// 使用柱状图就加载bar模块，按需加载
                ],
                function (ec) {
                    // 基于准备好的dom，初始化echarts图表
                    var myChart = ec.init(document.getElementById(main));

                    var option = {
                        color: ['#959595', '#7ed320',],

                        tooltip: {
                            trigger: 'axis',
                            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                                type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                            }
                        },
                        legend: {

                            show: true,
                            zlevel: 0,
                            z: 4,
                            orient: 'horizontal',
                            x: 'center',
                            y: 'top',
                            backgroundColor: 'rgba(255,255,255,0)',
                            borderColor: '#ccc',
                            borderWidth: 0,
                            color:'#fff',
                            padding: 15,
                            itemGap: 10,
                            itemWidth: 20,
                            itemHeight: 20,
                            textStyle: {
                                fontSize: 22,
                                color:'#fff',
                            },
                            data: ['已使用车位', '剩余车位']
                        },
                        xAxis: [
                            {
                                type: 'value',
                                lineStyle: {
                                    color: '#203c63',
                                    type: 'solid',
                                    width: 1,
                                },

                                axisLabel: {
                                    show: true,
                                    interval: 'auto',
                                    rotate: 0,
                                    margin: 8,
                                    clickable: false,
                                    formatter: null,
                                    textStyle: {
                                        color: '#fff',
                                        fontSize: 22,
                                    },
                                },
                                splitLine: {
                                    lineStyle: {
                                        width: 0,
                                    },
                                },
                                data: [20, 40, 60, 80, 100, 120, 140, 160, 180, 200]
                            }
                        ],
                        yAxis: [
                            {
                                type: 'category',
                                lineStyle: {
                                    color: '#203c63',
                                    type: 'solid',
                                    width: 1,
                                },
                                axisLabel: {
                                    show: true,
                                    interval: 'auto',
                                    rotate: 0,
                                    margin: 6,
                                    clickable: false,
                                    formatter: null,
                                    textStyle: {
                                        color: '#fff',
                                        fontSize: 22,
                                    },
                                },
                                splitLine: {
                                    lineStyle: {
                                        width: 0,
                                    },
                                },
                                data: ['苗寨一停车场', '苗寨二停车场', '矮寨大桥停车场', '德夯景区停车场']
                            }
                        ],
                        series: [
                            {
                                name: '已使用车位',
                                type: 'bar',
                                stack: '总量',
                                itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                data: [100, 30, 130, 80]
                            },
                            {
                                name: '剩余车位',
                                type: 'bar',
                                stack: '总量',
                                itemStyle: {normal: {label: {show: true, position: 'insideRight'}}},
                                data: [40, 40, 40, 40]
                            }
                        ],

                        noDataLoadingOption: {

                            x: '100',
                            y: '10000',
                            textStyle: {
                                fontSize: 12,
                                fontStyle: 'normal',
                                fontWeight: 'normal',
                            },

                        },
                        grid: {
                            zlevel: 0,
                            z: 0,
                            x: 160,
                            y: 60,
                            width: 540,
                            height: 200,
                            backgroundColor: 'rgba(0,0,0,0)',
                            borderWidth: 0,
                            borderColor: '#000',
                        },
                    };
                    // 为echarts对象加载数据
                    myChart.setOption(option);
                }
        );
    }
    bar('main');


</script>
</body>
</html>